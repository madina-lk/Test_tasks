#!/usr/bin/python
# -*- coding: ascii -*-

class RingBuffer:
    def __init__(self, size, data=[]):
        """
        ???????????
        :param size: ?????? ???????
        :param data: ??????
        """
        self.index = 0
        self.size = size
        self.data = list(data)[-size:]

    def append(self, val):
        """
        ?????????? ?????????
        :param value: ??????????? ???????
        :return: None
        """
        if len(self.data) == self.size:
            self.data[self.index] = val
        else:
            self.data.append(val)
        self.index = (self.index + 1) % self.size

    def get(self, key):
        """
        ????????? ???????? ?? ??????? ???????????? ???????? ???????
        :param key:
        :return: ??????
        """
        if len(self.data) == self.size:
            return self.data[(key + self.index) % self.size]
        else:
            return self.data[key]